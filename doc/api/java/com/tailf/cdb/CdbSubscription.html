<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Tue May 14 21:18:04 GMT 2024 -->
<title>CdbSubscription (NSO Java API Version 6.2.5)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-05-14">
<meta name="description" content="declaration: package: com.tailf.cdb, class: CdbSubscription">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/CdbSubscription.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.tailf.cdb</a></div>
<h1 title="Class CdbSubscription" class="title">Class CdbSubscription</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
<div class="inheritance">com.tailf.cdb.CdbSubscription</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../conf/MountIdInterface.html" title="interface in com.tailf.conf">MountIdInterface</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">CdbSubscription</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="../conf/MountIdInterface.html" title="interface in com.tailf.conf">MountIdInterface</a></span></div>
<div class="block">This class provides subscription functionality to CDB.

 <p>The subscription functionality makes it possible to receive
 events/notifications of <i>CDB</i> configuration/operational
 changes. Subscriptions are always towards the running
 datastore (it is not possible to subscribe to changes to the
 startup datastore). Subscriptions towards the operational data kept
 in CDB are also possible, but the mechanism is slightly different.

 <p>Subscription to configuration or operational
 data is specified with the <a href="CdbSubscriptionType.html" title="enum class in com.tailf.cdb"><code>CdbSubscriptionType</code></a> type.

 <p>To subscribe to a particular path the
 <a href="#subscribe(com.tailf.cdb.CdbSubscriptionType,int,com.tailf.conf.ConfNamespace,java.lang.String,java.lang.Object...)"><code>subscribe(CdbSubscriptionType,int,ConfNamespace,String,Object...)</code></a>
 should be used. For each invocation of the method a subscription identifier
 (<i>subscription point</i>) is returned.

 <p>Every <i>subscription point</i> is defined through a path similar to
 the paths we use for read operations, with the exception that instead of
 fully instantiated paths to list instances we can also
 selectively use tagpaths.

 <p>Each subscriber can have multiple subscription points,
 and there can be many different subscribers.

 <p><i><b>The subscription process</b></i>
 After establishing a connection against <i>CDB</i> the process is
 as follow:
 <ul>
 <li><p>Registering on path(s) trough the <code>subscribe</code> method
 specifying Subscription type and priority which in turns returns a
 <i>subscription point</i>.
 </li>

 <li><p>When a client is done subscribing it needs to inform that it is
 ready to receive notifications. This is done by first calling
 <code>subscribeDone</code> method, after which the subscription socket
 is ready to receive notifications.
 </li>

 <li>
 <p>A direct call to <code>read</code> will retrieve a subscription
  notification. The read call will block on the socket until an notification
  is received.
 </li>

 <li>
 <p>As a subscriber has read its subscription notifications using
   <a href="#read()"><code>read()</code></a> it will receive points that was affected by a transaction
   and it can iterate through the changes that caused the
   particular subscription notification using the <code>diffIterate</code>
   method. It is also possible to start a new read-session to
   the <code>CDB_PRE_COMMIT_RUNNING</code> database to read the
   running database as it was before the pending transaction.
  </li>
 <li>

 <p>Once we have read the subscription notification through a call to
 <code>read</code> and optionally used the <code>diffIterate</code>
 to iterate through the changes as well as acted on the changes to <i>CDB</i>,
 we must synchronize <a href="#sync(com.tailf.cdb.CdbSubscriptionSyncType)"><code>sync(CdbSubscriptionSyncType)</code></a>  with
 <i>CDB</i> so that <i>CDB</i> can continue and deliver further subscription
 messages to subscribers with higher priority numbers.
 </li>
 </ul>


 <p><b>Subscription code snippet </b></p>
 <hr><blockquote>
 <pre>
  // int port = Conf.PORT for ConfD or Conf.NCS_PORT for NCS
  // create new socket and Cdb instance
  Socket sock = new Socket(&quot;localhost&quot;, port);
  Cdb cdb2 = new Cdb(&quot;test&quot;,sock);
  // create new CdbSubscription instance
  final CdbSubscription sub2= cdb2.newSubscription();
  // subscribe on a path
  int subid2 = sub2.subscribe(1,new mtest(), &quot;/mtest/servers&quot;);
  // tell CDB we are ready for notifications
  sub2.subscribeDone();

  Thread subThread2 = new Thread(new Runnable() {

      public void run() {
          // now do the blocking read
          try {
              while (true) {
                  int[] points= sub2.read();
                  // now do something here like diffIterate
                  // Synchronize with CDB so that we do not
                  // block CDB and can receive new subscriptions.
                  sub2.sync(CdbSubscriptionSyncType.DONE_PRIORITY);
              }
          } catch (Exception e) {
              e.printStackTrace();
              return;
          }
      }
  });

  subThread2.start();
 </pre></blockquote><hr></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(com.tailf.cdb.Cdb)" class="member-name-link">CdbSubscription</a><wbr>(<a href="Cdb.html" title="class in com.tailf.cdb">Cdb</a>&nbsp;cdb)</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a CDB subscription instance, with the specified
 <code>Cdb</code> socket.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button><button id="method-summary-table-tab6" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab6', 3)" class="table-tab">Deprecated Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#abortTransaction(com.tailf.cdb.CdbExtendedException)" class="member-name-link">abortTransaction</a><wbr>(<a href="CdbExtendedException.html" title="class in com.tailf.cdb">CdbExtendedException</a>&nbsp;ex)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Abort the transaction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#acceptTagPath()" class="member-name-link">acceptTagPath</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate)" class="member-name-link">diffIterate</a><wbr>(int&nbsp;subid,
 <a href="CdbDiffIterate.html" title="interface in com.tailf.cdb">CdbDiffIterate</a>&nbsp;iter)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Iterate over changes made in CDB.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)" class="member-name-link">diffIterate</a><wbr>(int&nbsp;subid,
 <a href="CdbDiffIterate.html" title="interface in com.tailf.cdb">CdbDiffIterate</a>&nbsp;iter,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="../conf/DiffIterateFlags.html" title="enum class in com.tailf.conf">DiffIterateFlags</a>&gt;&nbsp;flags,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;initstate)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Iterate over changes made in CDB with additional supplied flags.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Cdb.html" title="class in com.tailf.cdb">Cdb</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCdb()" class="member-name-link">getCdb</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="CdbSubscriptionFlagType.html" title="enum class in com.tailf.cdb">CdbSubscriptionFlagType</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFlags()" class="member-name-link">getFlags</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns an <code>EnumSet&lt;CdbSubscriptionFlagType&gt;</code> of current
 flags for this subscription.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CdbNotificationType.html" title="enum class in com.tailf.cdb">CdbNotificationType</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLatestNotificationType()" class="member-name-link">getLatestNotificationType</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieve the latest notification type.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="CdbSubscriptionFlagType.html" title="enum class in com.tailf.cdb">CdbSubscriptionFlagType</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#getLatestSubscriptionFlag()" class="member-name-link">getLatestSubscriptionFlag</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#getModifications(int,com.tailf.cdb.CdbGetModificationFlag,com.tailf.conf.ConfPath)" class="member-name-link">getModifications</a><wbr>(int&nbsp;subid,
 <a href="CdbGetModificationFlag.html" title="enum class in com.tailf.cdb">CdbGetModificationFlag</a>&nbsp;flag,
 <a href="../conf/ConfPath.html" title="class in com.tailf.conf">ConfPath</a>&nbsp;path)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span></div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#getModifications(int,com.tailf.cdb.CdbGetModificationFlag,java.lang.String,java.lang.Object...)" class="member-name-link">getModifications</a><wbr>(int&nbsp;subid,
 <a href="CdbGetModificationFlag.html" title="enum class in com.tailf.cdb">CdbGetModificationFlag</a>&nbsp;flag,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fmt,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;args)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getModifications(int,java.util.EnumSet,com.tailf.conf.ConfPath)" class="member-name-link">getModifications</a><wbr>(int&nbsp;subid,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="CdbGetModificationFlag.html" title="enum class in com.tailf.cdb">CdbGetModificationFlag</a>&gt;&nbsp;flags,
 <a href="../conf/ConfPath.html" title="class in com.tailf.conf">ConfPath</a>&nbsp;path)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieve changes that caused by subscription notification.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getModifications(int,java.util.EnumSet,java.lang.String,java.lang.Object...)" class="member-name-link">getModifications</a><wbr>(int&nbsp;subid,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="CdbGetModificationFlag.html" title="enum class in com.tailf.cdb">CdbGetModificationFlag</a>&gt;&nbsp;flags,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fmt,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;args)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieve changes that caused by subscription notification.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#getModifications(com.tailf.cdb.CdbGetModificationFlag)" class="member-name-link">getModifications</a><wbr>(<a href="CdbGetModificationFlag.html" title="enum class in com.tailf.cdb">CdbGetModificationFlag</a>&nbsp;flag)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span></div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getModifications(java.util.EnumSet)" class="member-name-link">getModifications</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="CdbGetModificationFlag.html" title="enum class in com.tailf.cdb">CdbGetModificationFlag</a>&gt;&nbsp;flags)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieve changes that caused by subscription notification.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getModificationsCLI(int)" class="member-name-link">getModificationsCLI</a><wbr>(int&nbsp;subid)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return a string with the CLI commands that corresponds to the
 changes that triggered subscription.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getModificationsCLI(int,int)" class="member-name-link">getModificationsCLI</a><wbr>(int&nbsp;subid,
 int&nbsp;flags)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">CLI string that corresponds to the changes that triggered subscription.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMountId(com.tailf.conf.ConfPath)" class="member-name-link">getMountId</a><wbr>(<a href="../conf/ConfPath.html" title="class in com.tailf.conf">ConfPath</a>&nbsp;path)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUserSession()" class="member-name-link">getUserSession</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#read()" class="member-name-link">read</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Reads the Cdb subscription socket for events and blocks.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setMandatory(java.lang.String)" class="member-name-link">setMandatory</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;mandatoryName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attaches a mandatory attribute and a mandatory name to this subscriber
 CDB keeps a list of mandatory subscribers for infinite extent, i.e.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#subscribe(int,int,java.lang.String,java.lang.Object...)" class="member-name-link">subscribe</a><wbr>(int&nbsp;priority,
 int&nbsp;nshash,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fmt,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;args)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Subscribe to given path.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#subscribe(int,com.tailf.conf.ConfNamespace,java.lang.String,java.lang.Object...)" class="member-name-link">subscribe</a><wbr>(int&nbsp;priority,
 <a href="../conf/ConfNamespace.html" title="class in com.tailf.conf">ConfNamespace</a>&nbsp;ns,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fmt,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;args)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Subscribe to a given path.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#subscribe(com.tailf.cdb.CdbSubscriptionType,int,int,java.lang.String,java.lang.Object...)" class="member-name-link">subscribe</a><wbr>(<a href="CdbSubscriptionType.html" title="enum class in com.tailf.cdb">CdbSubscriptionType</a>&nbsp;subscriptionType,
 int&nbsp;priority,
 int&nbsp;nshash,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fmt,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;args)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Subscribe to a path.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#subscribe(com.tailf.cdb.CdbSubscriptionType,int,com.tailf.conf.ConfNamespace,java.lang.String,java.lang.Object...)" class="member-name-link">subscribe</a><wbr>(<a href="CdbSubscriptionType.html" title="enum class in com.tailf.cdb">CdbSubscriptionType</a>&nbsp;subscriptionType,
 int&nbsp;priority,
 <a href="../conf/ConfNamespace.html" title="class in com.tailf.conf">ConfNamespace</a>&nbsp;ns,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fmt,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;args)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Subscribe to a path.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#subscribe(com.tailf.cdb.CdbSubscriptionType,java.util.EnumSet,int,int,java.lang.String,java.lang.Object...)" class="member-name-link">subscribe</a><wbr>(<a href="CdbSubscriptionType.html" title="enum class in com.tailf.cdb">CdbSubscriptionType</a>&nbsp;subscriptionType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="CdbSubscrConfigFlag.html" title="enum class in com.tailf.cdb">CdbSubscrConfigFlag</a>&gt;&nbsp;flags,
 int&nbsp;priority,
 int&nbsp;nshash,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fmt,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;args)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Subscribe to a path.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#subscribe(com.tailf.cdb.CdbSubscriptionType,java.util.EnumSet,int,com.tailf.conf.ConfNamespace,java.lang.String,java.lang.Object...)" class="member-name-link">subscribe</a><wbr>(<a href="CdbSubscriptionType.html" title="enum class in com.tailf.cdb">CdbSubscriptionType</a>&nbsp;subscriptionType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="CdbSubscrConfigFlag.html" title="enum class in com.tailf.cdb">CdbSubscrConfigFlag</a>&gt;&nbsp;flags,
 int&nbsp;priority,
 <a href="../conf/ConfNamespace.html" title="class in com.tailf.conf">ConfNamespace</a>&nbsp;ns,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fmt,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;args)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Subscribe to a path.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#subscribeDone()" class="member-name-link">subscribeDone</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Finishing the subscription setup.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sync(com.tailf.cdb.CdbSubscriptionSyncType)" class="member-name-link">sync</a><wbr>(<a href="CdbSubscriptionSyncType.html" title="enum class in com.tailf.cdb">CdbSubscriptionSyncType</a>&nbsp;subscriptionSyncType)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Synchronize the subscriber.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(com.tailf.cdb.Cdb)">
<h3>CdbSubscription</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">CdbSubscription</span><wbr><span class="parameters">(<a href="Cdb.html" title="class in com.tailf.cdb">Cdb</a>&nbsp;cdb)</span></div>
<div class="block">Creates a CDB subscription instance, with the specified
 <code>Cdb</code> socket.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cdb</code> - A cdb instance connected to ConfD/NCS</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getUserSession()">
<h3>getUserSession</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getUserSession</span>()
                    throws <span class="exceptions"><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="subscribe(int,int,java.lang.String,java.lang.Object...)">
<h3>subscribe</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">subscribe</span><wbr><span class="parameters">(int&nbsp;priority,
 int&nbsp;nshash,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fmt,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;args)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="block">Subscribe to given path.

 Sets up a CDB description so that we are notified when CDB changes.
 There can be multiple subscription points from different sources,
 that is a single client daemon can have many subscriptions and there
 can be many client daemons.
 <p>
 Each  subscription  point  is  defined through a path similar to the
 paths we use for read operations. We can subscribe either to specific
 leaf elements or entire subtrees. Subscribing to YANG list entries can
 be done using fully qualified paths, or tagpaths to match
 multiple list entries. A path which isn't a leaf automatically
 matches the subtree below that path.
 <p>
 Some examples:
 <ul>
 <li>/hosts - Means that we subscribe to  any  changes  in the subtree  -
 rooted  at  "/hosts".  This includes additions or removals of
 "host" entries as well as changes to already existing  "host"
 entries.

 <li>/hosts/host{www}/interfaces/interface{eth0}/ip -
 Means we are notified when host www changes its IP address on
 eth0.

 <li>/hosts/host/interfaces/interface/ip -
 Means we are notified when any host changes  any  of  its  IP
 addresses.

 <li>/hosts/host/interfaces -
 Means   we   are   notified   when  either  an  interface  is
 added/removed or when an individual leaf in an existing
 interface is changed.
 </ul>
 <p>

 The priority value is an integer. When CDB is changed, the change is
 performed inside a transaction. Either a commit operation  from  the
 CLI  or  a candidate-commit operation in NETCONF means that the running
 database is changed. These changes occur inside a transaction.
 CDB  will  handle  the  subscriptions in lock-step priority
 order. First all subscribers at the  lowest  priority  are  handled,
 once  they  all  have  replied  and  synchronized  through  calls to
 <a href="#sync(com.tailf.cdb.CdbSubscriptionSyncType)"><code>sync(CdbSubscriptionSyncType)</code></a> the next set - at the
 next  priority
 level  is handled by CDB. Priority numbers are global, i.e. if there
 are multiple client daemons notifications will still be delivered in
 priority order per all subscriptions, not per daemon.
 <p>
 Operational and configuration subscriptions can be done on
 the same socket, but in that case the notifications may be
 arbitrarily interleaved, including operational notifications
 arriving between different configuration notifications for the
 same transaction. If this is a problem, use separate CdbSubscription
 instances with separate Cdb instances for operational and configuration
 subscriptions.
 <p>
 See  <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate)"><code>diffIterate(int,CdbDiffIterate)</code></a> for ways of filtering
 subscription
 notifications and finding out what changed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>priority</code> - Subscription priority</dd>
<dd><code>nshash</code> - namespace hash</dd>
<dd><code>fmt</code> - subscription path</dd>
<dt>Returns:</dt>
<dd>A subscription point. This integer value is used to
 identify this particular subscription.</dd>
<dt>Throws:</dt>
<dd><code><a href="CdbException.html" title="class in com.tailf.cdb">CdbException</a></code> - Failed to subscribe to the specified path</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - Failed to read/write cdb socket</dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="subscribe(int,com.tailf.conf.ConfNamespace,java.lang.String,java.lang.Object...)">
<h3>subscribe</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">subscribe</span><wbr><span class="parameters">(int&nbsp;priority,
 <a href="../conf/ConfNamespace.html" title="class in com.tailf.conf">ConfNamespace</a>&nbsp;ns,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fmt,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;args)</span>
              throws <span class="exceptions"><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Subscribe to a given path.

 <p> Sets up a CDB subscription so that we are notified when CDB
 configuration data changes. There can be multiple subscription points
 from different sources, that is a single client daemon can have many
 subscriptions and there can be many client daemons.

 <p>
 Each subscription point is defined through a path similar to the
 paths we use for read operations. We can subscribe either to
 specific leafs or entire subtrees. Subscribing to list entries can
 be done using fully qualified paths, or tagpaths to match multiple
 entries. A path which isn't a leaf element automatically
 matches the subtree below that path. When specifying keys to a
 list entry it is possible to use the wild card character * which will
 match any key value.
 <p>
 When subscribing to a leaf with a <code>tailf:default-ref</code> statement,
 or to a subtree with elements that have <code>tailf:default-ref</code>,
 implicit subscriptions to the referred leafs are added.
 This means that a change in a referred leaf will generate a
 notification for the subscription that has referring leaf(s) - but
 currently such a change will not be reported by
  <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)"><code>diffIterate(int,CdbDiffIterate,EnumSet,Object)</code></a>.
 Thus to get the new "effective" value of a referring leaf in this
 case, it is necessary to either read the
 value of the leaf with e.g. <a href="CdbSession.html#getElem(com.tailf.conf.ConfPath)"><code>CdbSession.getElem(ConfPath)</code></a> - or
 to use a
 subscription that includes the referred leafs, and use
 <code>diffIterate</code> when a notification for that
 subscription is received.

 Some examples
 <pre>
 /hosts
         Means that we subscribe to any changes in the subtree - rooted
         at /hosts. This includes additions or removals of host
         entries as well as changes to already  existing host entries.

 /hosts/host{www}/interfaces/interface{eth0}/ip
         Means we are notified when host www changes its IP address on
         eth0.

 /hosts/host/interfaces/interface/ip
         Means we are notified when any host changes any of its IP
         addresses.

 /hosts/host/interfaces
         Means we are notified when either an interface is
         added/removed or when an individual leaf element in an
         existing interface is changed.

  </pre>
  <p>
  The priority value is an integer. When CDB is changed, the
  change is performed inside a transaction. Either a commit
  operation from the CLI or a candidate-commit operation in
  NETCONF means that the running database is changed.
  These changes occur inside a transaction.

  CDB will handle the subscriptions in lock-step priority order.
  First all subscribers at the lowest priority are handled, once
  they all have replied and synchronized through calls
  to <a href="#sync(com.tailf.cdb.CdbSubscriptionSyncType)"><code>sync(CdbSubscriptionSyncType)</code></a>
  the next set - at the next priority  level is handled by CDB.

  <p>Priority numbers are global, i.e. if there
  are multiple client daemons notifications will still be delivered
  in priority order per all subscriptions, not per daemon.

  See <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)"><code>diffIterate(int,CdbDiffIterate,EnumSet,Object)</code></a>
  for ways of filtering  subscription notifications and finding out
  what changed.  The easiest way is though to solely
  rely on the positioning of the subscription points in the tree to
  figure out what changed.

  <p><code>subscribe</code> returns a subscription point
  This integer value is used to identify this particular
  subscription.

  <p>Because there can be many subscriptions on the same socket the
  client must notify when it is done subscribing and ready to receive
  notifications. This is done using <a href="#subscribeDone()"><code>subscribeDone()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>priority</code> - subscription priority</dd>
<dd><code>ns</code> - namespace</dd>
<dd><code>fmt</code> - subscription path</dd>
<dd><code>args</code> - arguments to be substituted into fmt string</dd>
<dt>Returns:</dt>
<dd>subscription point
         which is used to identify this particular subscription</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="subscribe(com.tailf.cdb.CdbSubscriptionType,int,int,java.lang.String,java.lang.Object...)">
<h3>subscribe</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">subscribe</span><wbr><span class="parameters">(<a href="CdbSubscriptionType.html" title="enum class in com.tailf.cdb">CdbSubscriptionType</a>&nbsp;subscriptionType,
 int&nbsp;priority,
 int&nbsp;nshash,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fmt,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;args)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="block">Subscribe to a path.

 <p> Sets up a CDB subscription so that we are notified when CDB
 configuration data changes. There can be multiple subscription points
 from different sources, that is a single client daemon can have many
 subscriptions and there can be many client daemons.

 <p>
 Each subscription point is defined through a path similar to the
 paths we use for read operations. We can subscribe either to
 specific leafs or entire subtrees. Subscribing to list entries can
 be done using fully qualified paths, or tagpaths to match multiple
 entries. A path which isn't a leaf element automatically
 matches the subtree below that path. When specifying keys to a
 list entry it is possible to use the wild card character '*' which will
 match any key value.
 <p>
 When subscribing to a leaf with a <code>tailf:default-ref</code> statement,
 or to a subtree with elements that have <code>tailf:default-ref</code>,
 implicit subscriptions to the referred leafs are added.
 This means that a change in a referred leaf will generate a
 notification for the subscription that has referring leaf(s) - but
 currently such a change will not be reported by
 <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)"><code>diffIterate(int,CdbDiffIterate,EnumSet,Object)</code></a>.
 Thus to get the new "effective" value of a referring leaf in this
 case, it is necessary to either read the
 value of the leaf with e.g. <a href="CdbSession.html#getElem(com.tailf.conf.ConfPath)"><code>CdbSession.getElem(ConfPath)</code></a> -
 or to use a
 subscription that includes the referred leafs, and use
 <code>diffIterate</code> when a notification for that
 subscription is received.

 Some examples
 <pre>
 /hosts
         Means that we subscribe to any changes in the subtree - rooted
         at /hosts. This includes additions or removals of host
         entries as well as changes to already  existing host entries.

 /hosts/host{www}/interfaces/interface{eth0}/ip
         Means we are notified when host www changes its IP address on
         eth0.

 /hosts/host/interfaces/interface/ip
         Means we are notified when any host changes any of its IP
         addresses.

 /hosts/host/interfaces
         Means we are notified when either an interface is
         added/removed or when an individual leaf element in an
         existing interface is changed.

  </pre>
  <p>
  The priority value is an integer. When CDB is changed, the
  change is performed inside a transaction. Either a commit
  operation from the CLI or a candidate-commit operation in
  NETCONF means that the running database is changed.
  These changes occur inside a transaction.

  CDB will handle the subscriptions in lock-step priority order.
  First all subscribers at the lowest priority are handled, once
  they all have replied and synchronized through calls
  to <a href="#sync(com.tailf.cdb.CdbSubscriptionSyncType)"><code>sync(CdbSubscriptionSyncType)</code></a>
  the next set - at the next priority  level is handled by CDB.

  <p>Priority numbers are global, i.e. if there
  are multiple client daemons notifications will still be delivered
  in priority order per all subscriptions, not per daemon.

  See <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)"><code>diffIterate(int,CdbDiffIterate,EnumSet,Object)</code></a>
  for ways of filtering  subscription notifications and finding out
  what changed.  The easiest way is though to solely
  rely on the positioning of the subscription points in the tree to
  figure out what changed.

  <p><code>subscribe</code> returns a subscription point
  This integer value is used to identify this particular
  subscription.

  <p>Because there can be many subscriptions on the same socket the
  client must notify when it is done subscribing and ready to receive
  notifications. This is done using <a href="#subscribeDone()"><code>subscribeDone()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subscriptionType</code> - subscription type</dd>
<dd><code>priority</code> - subscription priority</dd>
<dd><code>nshash</code> - namespace hash</dd>
<dd><code>fmt</code> - subscription path</dd>
<dd><code>args</code> - arguments to be substituted into fmt string</dd>
<dt>Returns:</dt>
<dd>The final subscription point which is
            used to identify this particular subscription</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code> - If failed to subscribe to the given path
 for some reason</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="subscribe(com.tailf.cdb.CdbSubscriptionType,java.util.EnumSet,int,int,java.lang.String,java.lang.Object...)">
<h3>subscribe</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">subscribe</span><wbr><span class="parameters">(<a href="CdbSubscriptionType.html" title="enum class in com.tailf.cdb">CdbSubscriptionType</a>&nbsp;subscriptionType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="CdbSubscrConfigFlag.html" title="enum class in com.tailf.cdb">CdbSubscrConfigFlag</a>&gt;&nbsp;flags,
 int&nbsp;priority,
 int&nbsp;nshash,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fmt,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;args)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="block">Subscribe to a path.

 Same as the
 <a href="#subscribe(com.tailf.cdb.CdbSubscriptionType,int,int,java.lang.String,java.lang.Object...)"><code>subscribe(CdbSubscriptionType, int, int, String, Object...)</code></a>
 with the addition of the flags parameter which is an EnumSet of
 configuration flags for the subscription see <a href="CdbSubscrConfigFlag.html" title="enum class in com.tailf.cdb"><code>CdbSubscrConfigFlag</code></a></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subscriptionType</code> - subscription type</dd>
<dd><code>flags</code> - <code>EnumSet&lt;CdbSubscrConfigFlag&gt;</code> controlling
              the subscription</dd>
<dd><code>priority</code> - subscription priority</dd>
<dd><code>nshash</code> - namespace hash</dd>
<dd><code>fmt</code> - subscription path</dd>
<dd><code>args</code> - arguments to be substituted into fmt string</dd>
<dt>Returns:</dt>
<dd>The final subscription point which is
          used to identify this particular subscription</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code> - If failed to subscribe to the given path
 for some reason</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="subscribe(com.tailf.cdb.CdbSubscriptionType,int,com.tailf.conf.ConfNamespace,java.lang.String,java.lang.Object...)">
<h3>subscribe</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">subscribe</span><wbr><span class="parameters">(<a href="CdbSubscriptionType.html" title="enum class in com.tailf.cdb">CdbSubscriptionType</a>&nbsp;subscriptionType,
 int&nbsp;priority,
 <a href="../conf/ConfNamespace.html" title="class in com.tailf.conf">ConfNamespace</a>&nbsp;ns,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fmt,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;args)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="block">Subscribe to a path.

 <p> Sets up a CDB subscription so that we are notified when CDB
 configuration data changes. There can be multiple subscription points
 from different sources, that is a single client daemon can have many
 subscriptions and there can be many client daemons.

 <p>
 Each subscription point is defined through a path similar to the
 paths we use for read operations. We can subscribe either to
 specific leafs or entire subtrees. Subscribing to list entries can
 be done using fully qualified paths, or tagpaths to match multiple
 entries. A path which isn't a leaf element automatically
 matches the subtree below that path. When specifying keys to a
 list entry it is possible to use the wild card character * which will
 match any key value.
 <p>
 When subscribing to a leaf with a <code>tailf:default-ref</code> statement,
 or to a subtree with elements that have <code>tailf:default-ref</code>,
 implicit subscriptions to the referred leafs are added.
 This means that a change in a referred leaf will generate a
 notification for the subscription that has referring leaf(s) - but
 currently such a change will not be reported by
 <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)"><code>diffIterate(int, CdbDiffIterate, EnumSet, Object)</code></a>.
 Thus to get the new "effective" value of a referring leaf in this
 case, it is necessary to either read the
 value of the leaf with e.g. <a href="CdbSession.html#getElem(com.tailf.conf.ConfPath)"><code>CdbSession.getElem(ConfPath)</code></a> -
 or to use a
 subscription that includes the referred leafs, and use
 <code>diffIterate()</code> when a notification for that
 subscription is received.

 Some examples
 <pre>
 /hosts
         Means that we subscribe to any changes in the subtree - rooted
         at /hosts. This includes additions or removals of host
         entries as well as changes to already  existing host entries.

 /hosts/host{www}/interfaces/interface{eth0}/ip
         Means we are notified when host www changes its IP address on
         eth0.

 /hosts/host/interfaces/interface/ip
         Means we are notified when any host changes any of its IP
         addresses.

 /hosts/host/interfaces
         Means we are notified when either an interface is
         added/removed or when an individual leaf element in an
         existing interface is changed.

  </pre>
  <p>
  The priority value is an integer. When CDB is changed, the
  change is performed inside a transaction. Either a commit
  operation from the CLI or a candidate-commit operation in
  NETCONF means that the running database is changed.
  These changes occur inside a transaction.

  CDB will handle the subscriptions in lock-step priority order.
  First all subscribers at the lowest priority are handled, once
  they all have replied and synchronized through calls
  to <a href="#sync(com.tailf.cdb.CdbSubscriptionSyncType)"><code>sync(CdbSubscriptionSyncType)</code></a>
  the next set - at the next priority  level is handled by CDB.

  <p>Priority numbers are global, i.e. if there
  are multiple client daemons notifications will still be delivered
  in priority order per all subscriptions, not per daemon.

  See <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)"><code>diffIterate(int,CdbDiffIterate,EnumSet,Object)</code></a>
  for ways of filtering  subscription notifications and finding out
  what changed.  The easiest way is though to solely
  rely on the positioning of the subscription points in the tree to
  figure out what changed.

  <p><code>subscribe</code> returns a subscription point
  This integer value is used to identify this particular
  subscription.

  <p>Because there can be many subscriptions on the same socket the
  client must notify when it is done subscribing and ready to receive
  notifications. This is done using <a href="#subscribeDone()"><code>subscribeDone()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subscriptionType</code> - The subscription type</dd>
<dd><code>priority</code> - The priority of the subscription</dd>
<dd><code>ns</code> - Namespace where the path belongs to</dd>
<dd><code>fmt</code> - subscription path</dd>
<dd><code>args</code> - arguments to be substituted into fmt string</dd>
<dt>Returns:</dt>
<dd>The final subscription point which is
            used to identify this particular subscription</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="subscribe(com.tailf.cdb.CdbSubscriptionType,java.util.EnumSet,int,com.tailf.conf.ConfNamespace,java.lang.String,java.lang.Object...)">
<h3>subscribe</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">subscribe</span><wbr><span class="parameters">(<a href="CdbSubscriptionType.html" title="enum class in com.tailf.cdb">CdbSubscriptionType</a>&nbsp;subscriptionType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="CdbSubscrConfigFlag.html" title="enum class in com.tailf.cdb">CdbSubscrConfigFlag</a>&gt;&nbsp;flags,
 int&nbsp;priority,
 <a href="../conf/ConfNamespace.html" title="class in com.tailf.conf">ConfNamespace</a>&nbsp;ns,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fmt,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;args)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="block">Subscribe to a path.

 Same as the
 <a href="#subscribe(com.tailf.cdb.CdbSubscriptionType,java.util.EnumSet,int,int,java.lang.String,java.lang.Object...)"><code>subscribe(CdbSubscriptionType,EnumSet,int,int,String,Object...)</code></a>
 with the difference that the namespace is given as a ConfNamespace.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subscriptionType</code> - The subscription type</dd>
<dd><code>flags</code> - <code>EnumSet&lt;CdbSubscrConfigFlag&gt;</code> controlling
              the subscription</dd>
<dd><code>priority</code> - The priority of the subscription</dd>
<dd><code>ns</code> - Namespace where the path belongs to</dd>
<dd><code>fmt</code> - subscription path</dd>
<dd><code>args</code> - arguments to be substituted into fmt string</dd>
<dt>Returns:</dt>
<dd>The final subscription point which is
          used to identify this particular subscription</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="subscribeDone()">
<h3>subscribeDone</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">subscribeDone</span>()
                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="block">Finishing the subscription setup.
 <p>
 When a client is done registering all its subscriptions on a
 particular subscription socket it must call <code>subscribeDone</code>.
 <p>
 No notifications will be delivered until then.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="diffIterate(int,com.tailf.cdb.CdbDiffIterate)">
<h3>diffIterate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">diffIterate</span><wbr><span class="parameters">(int&nbsp;subid,
 <a href="CdbDiffIterate.html" title="interface in com.tailf.cdb">CdbDiffIterate</a>&nbsp;iter)</span>
                 throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="block">Iterate over changes made in CDB.

 <p>After reading the subscription socket the <code>diffIterate</code>
 method can be used to iterate over the changes made in CDB  that
 matched the particular <code>subid</code>.

 The supplied user implementation of the
 <a href="CdbDiffIterate.html" title="interface in com.tailf.cdb"><code>CdbDiffIterate</code></a> , <code>iter</code> corresponding
 method
 <a href="CdbDiffIterate.html#iterate(com.tailf.conf.ConfObject%5B%5D,com.tailf.conf.DiffIterateOperFlag,com.tailf.conf.ConfObject,com.tailf.conf.ConfObject,java.lang.Object)"><code>CdbDiffIterate.iterate(ConfObject[],DiffIterateOperFlag, ConfObject,ConfObject,Object)</code></a> will be invoked by the library
 for each element that has been modified and matches the subscription.

 <p>The <code>iterate</code> callback receives an <code>ConfObject[]</code>
  <code>kp</code> array (reversed keypath) which uniquely identifies
 which node in the data tree that has been affected, the operation,
 and optionally the values it has before and after the transaction
 <a href="../conf/DiffIterateFlags.html#ITER_WANT_PREV"><code>DiffIterateFlags.ITER_WANT_PREV</code></a>.

 <p>A modification op <a href="../conf/DiffIterateOperFlag.html" title="enum class in com.tailf.conf"><code>DiffIterateOperFlag</code></a> is supplied to
 the <code>iterate</code> method and it gives the modification as:
 <ul>
 <li><code>MOP_CREATED</code>:
 The list entry, presence container, or leaf of type empty
 given by <code>kp</code> has been created.</li>

 <li><code>MOP_DELETED</code>:
  The list entry, presence container, or optional leaf
  given by <code>kp</code> has been deleted.

 If the subscription was triggered because an ancestor was deleted,
 the <code>iterate</code> method will not called at all if the delete
 was above the subscription point.

 However if the flag
 <a href="../conf/DiffIterateFlags.html#ITER_WANT_ANCESTOR_DELETE"><code>DiffIterateFlags.ITER_WANT_ANCESTOR_DELETE</code></a> is passed to
 <code>diffIterate</code> then deletes that trigger a descendant
 subscription will also generate a call to <code>iterate</code>,
 and in this case <code>kp</code> will be the path that was actually deleted.
 </li>

 <li><code>MOP_MODIFIED</code>:
 A descendant of the list entry given by <code>kp</code> has been modified.
 </li>

 <li><code>MOP_VALUE_SET</code>:
 The value of the leaf given by kp has been set.</li>

 <li><code>MOP_MOVED_AFTER</code>:
 The list entry given by <code>kp</code>, in an <code>ordered-by</code>
 user list, has been moved. If new value is null, the entry has been
 moved first in the list, otherwise it has been moved after the entry
 given by the new value.</li>
 </ul>
 <p>
 For configuration subscriptions, the previous value
 of the node can also be passed to <code>iterate</code> if the
 flags parameter contains <code>ITER_WANT_PREV</code>, in which case
 the old value is supplied ,otherwise it will be null.

 <p>
 For operational data subscriptions,
 the <code>ITER_WANT_PREV</code> flag is ignored, and old value is always
  null - there is no equivalent to
 <a href="CdbDBType.html#CDB_PRE_COMMIT_RUNNING"><code>CdbDBType.CDB_PRE_COMMIT_RUNNING</code></a> that holds "old"
 operational data.</p>

 <p>
 If <code>iterate</code> returns <a href="../conf/DiffIterateResultFlag.html#ITER_STOP"><code>DiffIterateResultFlag.ITER_STOP</code></a>,
 no more iteration is done, is returned.

 If <code>iterate</code> returns <a href="../conf/DiffIterateResultFlag.html#ITER_RECURSE"><code>DiffIterateResultFlag.ITER_RECURSE</code></a>
 iteration continues with all children to the node.

 <p>
 If <code>iterate</code> returns
 <a href="../conf/DiffIterateResultFlag.html#ITER_CONTINUE"><code>DiffIterateResultFlag.ITER_CONTINUE</code></a>
 iteration ignores the children to the node (if any), and continues
 with the node's sibling.

 <p> This version sends passes <code>ITER_WANT_PREV</code> as default.
 If the ITER_WANT_PREV is not desired or additional flags is require use
 <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)"><code>diffIterate(int,CdbDiffIterate,EnumSet, Object)</code></a></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subid</code> - Subscription identifier point</dd>
<dd><code>iter</code> - A User implementation <code>CdbDiffIterate</code> interface.</dd>
<dt>Throws:</dt>
<dd><code><a href="CdbException.html" title="class in com.tailf.cdb">CdbException</a></code> - Failed to diff iterate</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - Failed to read/write cdb socket</dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="diffIterate(int,com.tailf.cdb.CdbDiffIterate,java.util.EnumSet,java.lang.Object)">
<h3>diffIterate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">diffIterate</span><wbr><span class="parameters">(int&nbsp;subid,
 <a href="CdbDiffIterate.html" title="interface in com.tailf.cdb">CdbDiffIterate</a>&nbsp;iter,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="../conf/DiffIterateFlags.html" title="enum class in com.tailf.conf">DiffIterateFlags</a>&gt;&nbsp;flags,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;initstate)</span>
                 throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="block">Iterate over changes made in CDB with additional supplied flags.

 <p>After reading the subscription socket the <code>diffIterate</code>
 method can be used to iterate over the changes made in CDB  that
 matched the particular <code>subid</code>.

 The supplied user implementation of the
 <a href="CdbDiffIterate.html" title="interface in com.tailf.cdb"><code>CdbDiffIterate</code></a> interface, <code>iter</code> corresponding
 method
 <a href="CdbDiffIterate.html#iterate(com.tailf.conf.ConfObject%5B%5D,com.tailf.conf.DiffIterateOperFlag,com.tailf.conf.ConfObject,com.tailf.conf.ConfObject,java.lang.Object)"><code>CdbDiffIterate.iterate(ConfObject[],DiffIterateOperFlag, ConfObject,ConfObject,Object)</code></a> will be invoked by the library
 for each element that has been modified and matches the subscription.

 <p>The <code>iterate</code> callback receives an <code>ConfObject[]</code>
 <code>kp</code> array (reversed keypath) which uniquely identifies
 which node in the data tree that has been affected, the operation,
 and optionally the values it has before (old value) and after the
 transaction ( new value ) <a href="../conf/DiffIterateFlags.html#ITER_WANT_PREV"><code>DiffIterateFlags.ITER_WANT_PREV</code></a>.

 <p>A modification op <a href="../conf/DiffIterateOperFlag.html" title="enum class in com.tailf.conf"><code>DiffIterateOperFlag</code></a> is supplied to
 the <code>iterate</code> method and it gives the modification as:
 <ul>
 <li><code>{@link DiffIterateOperFlag#MOP_CREATED}</code>:
 The list entry, presence container, or leaf of type empty
 given by <code>kp</code> has been created.</li>

 <li><code>{@link DiffIterateOperFlag#MOP_DELETED}</code>:
  The list entry, presence container, or optional leaf
  given by <code>kp</code> has been deleted.

 If the subscription was triggered because an ancestor was deleted,
 the <code>iterate</code> method will not called at all if the delete
 was above the subscription point.

 However if the flag
 <a href="../conf/DiffIterateFlags.html#ITER_WANT_ANCESTOR_DELETE"><code>DiffIterateFlags.ITER_WANT_ANCESTOR_DELETE</code></a> is passed to
 <code>diffIterate</code> then deletes that trigger a descendant
 subscription will also generate a call to <code>iterate</code>,
 and in this case <code>kp</code> will be the path that was actually deleted.
 </li>

 <li><code>MOP_MODIFIED</code>:
 A descendant of the list entry given by <code>kp</code> has been modified.
 </li>

<li> <code>MOP_VALUE_SET</code>:
 The value of the leaf given by kp has been set.</li>

 <li><code>MOP_MOVED_AFTER</code>
 The list entry given by <code>kp</code>, in an <code>ordered-by</code>
 user list, has been moved. If new value is null, the entry has been
 moved first in the list, otherwise it has been moved after the entry
 given by the new value.</li>
 </ul>
 <p>
 For configuration subscriptions, the previous value
 of the node can also be passed to <code>iterate</code> if the
 flags parameter contains <code>ITER_WANT_PREV</code>, in which case
 the old value is supplied ,otherwise it will be null.

 <p>
 For operational data subscriptions,
 the <code>ITER_WANT_PREV</code> flag is ignored, and old value is always
 null - there is no equivalent to
 <a href="CdbDBType.html#CDB_PRE_COMMIT_RUNNING"><code>CdbDBType.CDB_PRE_COMMIT_RUNNING</code></a> that holds "old"
 operational data.</p>

 <p>
 If <code>iterate</code> returns <a href="../conf/DiffIterateResultFlag.html#ITER_STOP"><code>DiffIterateResultFlag.ITER_STOP</code></a>,
 no more iteration is done, is returned.

 If <code>iterate</code> returns <a href="../conf/DiffIterateResultFlag.html#ITER_RECURSE"><code>DiffIterateResultFlag.ITER_RECURSE</code></a>
 iteration continues with all children to the node.

 <p>
 If <code>iterate</code> returns
 <a href="../conf/DiffIterateResultFlag.html#ITER_CONTINUE"><code>DiffIterateResultFlag.ITER_CONTINUE</code></a>
 iteration ignores the children to the node (if any), and continues
 with the node's sibling.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subid</code> - Subscription identifier point</dd>
<dd><code>iter</code> - A User implementation <code>CdbDiffIterate</code> interface</dd>
<dt>Throws:</dt>
<dd><code><a href="CdbException.html" title="class in com.tailf.cdb">CdbException</a></code> - Failed to diff iterate</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - Failed to read/write cdb socket</dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="read()">
<h3>read</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int[]</span>&nbsp;<span class="element-name">read</span>()
           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="block">Reads the Cdb subscription socket for events and blocks.

 <p>Returns the subscription points that triggered
 a change.

 <p>The triggering notification is of a type.
 This information in important in two-phase subscriptions.
 The notificationType can be retrieved using
 <a href="#getLatestNotificationType()"><code>getLatestNotificationType()</code></a></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="CdbException.html" title="class in com.tailf.cdb">CdbException</a></code> - Failed to read.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - Failed to read/write cdb socket</dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLatestNotificationType()">
<h3>getLatestNotificationType</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CdbNotificationType.html" title="enum class in com.tailf.cdb">CdbNotificationType</a></span>&nbsp;<span class="element-name">getLatestNotificationType</span>()</div>
<div class="block">Retrieve the latest notification type.

 <p>Each notification retrieved by the <a href="#read()"><code>read()</code></a> method has a
 notificationType.

 This method retrieves the notification type from  the latest
 <code>read</code> call.

 <p>
 If no <code>read</code> call has been performed then this method
 returns null.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>notificationType or null if not applicable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLatestSubscriptionFlag()">
<h3>getLatestSubscriptionFlag</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CdbSubscriptionFlagType.html" title="enum class in com.tailf.cdb">CdbSubscriptionFlagType</a></span>&nbsp;<span class="element-name">getLatestSubscriptionFlag</span>()</div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span></div>
<div class="block">This method is deprecated.
 Use getFlags() instead.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>CdbSubscriptionFlagType</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFlags()">
<h3>getFlags</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="CdbSubscriptionFlagType.html" title="enum class in com.tailf.cdb">CdbSubscriptionFlagType</a>&gt;</span>&nbsp;<span class="element-name">getFlags</span>()</div>
<div class="block">Returns an <code>EnumSet&lt;CdbSubscriptionFlagType&gt;</code> of current
 flags for this subscription.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>EnumSet&lt;CdbSubscriptionFlagType&gt;</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getModifications(int,java.util.EnumSet,com.tailf.conf.ConfPath)">
<h3>getModifications</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</span>&nbsp;<span class="element-name">getModifications</span><wbr><span class="parameters">(int&nbsp;subid,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="CdbGetModificationFlag.html" title="enum class in com.tailf.cdb">CdbGetModificationFlag</a>&gt;&nbsp;flags,
 <a href="../conf/ConfPath.html" title="class in com.tailf.conf">ConfPath</a>&nbsp;path)</span>
                                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="block">Retrieve changes that caused by subscription notification.

 <p>The <code>getModifications</code> can be called after
 reception of a subscription notification to retrieve all the
 changes that caused the subscription notification.
 <p>
 The subscription id <code>subid</code> must be provide
 Optionally a path <code>path</code> can  be used to limit what is
 returned further (only changes below the supplied path will be
 returned), if this isn't needed a null could be provided.
 <p>
 Only the values that were  modified in this transaction are included.
 In addition to that these are the different values
 of the tags depending on what happened in the transaction:

 <ul>
 <li><p>A leaf of type empty that has been deleted has the value of
        <a href="../conf/ConfNoExists.html" title="class in com.tailf.conf"><code>ConfNoExists</code></a>, and when it is created it has the
        value <a href="../conf/ConfXMLParamLeaf.html" title="class in com.tailf.conf"><code>ConfXMLParamLeaf</code></a>.
 </li>
 <li> A leaf or a leaf-list that has been set to a new value
      (or its default value) is included with that new value.
      If the leaf or leaf-list is optional, then when
      it is deleted the value is <a href="../conf/ConfNoExists.html" title="class in com.tailf.conf"><code>ConfNoExists</code></a>.</li>

 <li> Presence containers are included when they are created or when
      they have modifications below them (by the usual
      <a href="../conf/ConfXMLParamStart.html" title="class in com.tailf.conf"><code>ConfXMLParamStart</code></a>,
      <a href="../conf/ConfXMLParamStop.html" title="class in com.tailf.conf"><code>ConfXMLParamStop</code></a> pair). If a presence
       container have been deleted its tag is included, but is set to
       <a href="../conf/ConfNoExists.html" title="class in com.tailf.conf"><code>ConfNoExists</code></a>.
 </ul>
 <p>
 By default <code>getModifications</code> does not include list instances
 (created, deleted, or modified) - but if the flags parameter is set to
 <a href="CdbGetModificationFlag.html#CDB_GET_MODS_INCLUDE_LISTS"><code>CdbGetModificationFlag.CDB_GET_MODS_INCLUDE_LISTS</code></a> then list
 instances will be included.

 Created, modified and moved instances are included wrapped in the
 <a href="../conf/ConfXMLParamStart.html" title="class in com.tailf.conf"><code>ConfXMLParamStart</code></a> / <a href="../conf/ConfXMLParamStop.html" title="class in com.tailf.conf"><code>ConfXMLParamStop</code></a> pair, with the
 keys first.

 To receive information about where a list instance in an ordered-by user
 list is moved, the
 <a href="CdbGetModificationFlag.html#CDB_GET_MODS_INCLUDE_MOVES"><code>CdbGetModificationFlag.CDB_GET_MODS_INCLUDE_MOVES</code></a> flag must also
 be included in the flags parameter.

 To receive information about ancestor list entry or presence container
 deleion
 <a href="CdbGetModificationFlag.html#CDB_GET_MODS_INCLUDE_MOVES"><code>CdbGetModificationFlag.CDB_GET_MODS_INCLUDE_MOVES</code></a> flag must also
 be included in the flags parameter.

 A list instance moved to the beginning of the list is indicated by
 C_XMLMOVEFIRST after the keys. A list instance moved elsewhere is
 indicated by C_XMLMOVEAFTER after the keys, with the after-keys
 following directly after.

 Deleted list instances instead begin with C_XMLBEGINDEL,
 then follows the keys, immediately followed by a C_XMLEND.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subid</code> - Subscription id</dd>
<dd><code>flags</code> - enumset of CdbGetModificationFlag</dd>
<dd><code>path</code> - </dd>
<dt>Throws:</dt>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getModifications(int,com.tailf.cdb.CdbGetModificationFlag,com.tailf.conf.ConfPath)">
<h3>getModifications</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</span>&nbsp;<span class="element-name">getModifications</span><wbr><span class="parameters">(int&nbsp;subid,
 <a href="CdbGetModificationFlag.html" title="enum class in com.tailf.cdb">CdbGetModificationFlag</a>&nbsp;flag,
 <a href="../conf/ConfPath.html" title="class in com.tailf.conf">ConfPath</a>&nbsp;path)</span>
                                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span></div>
<div class="block">This method is deprecated, instead use
 {link <a href="#getModifications(int,java.util.EnumSet,com.tailf.conf.ConfPath)"><code>getModifications(int, EnumSet, ConfPath)</code></a></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getModifications(int,java.util.EnumSet,java.lang.String,java.lang.Object...)">
<h3>getModifications</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</span>&nbsp;<span class="element-name">getModifications</span><wbr><span class="parameters">(int&nbsp;subid,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="CdbGetModificationFlag.html" title="enum class in com.tailf.cdb">CdbGetModificationFlag</a>&gt;&nbsp;flags,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fmt,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;args)</span>
                                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="block">Retrieve changes that caused by subscription notification.

 <p>The <code>getModifications</code> can be called after
 reception of a subscription notification to retrieve all the
 changes that caused the subscription notification.
 <p>
 The subscription id <code>subid</code> must be provide
 Optionally a path <code>path</code> can  be used to limit what is
 returned further (only changes below the supplied path will be
 returned), if this isn't needed a null could be provided.
 <p>
 Only the values that were  modified in this transaction are included.
 In addition to that these are the different values
 of the tags depending on what happened in the transaction:

 <ul>
 <li><p>A leaf of type empty that has been deleted has the value of
        <a href="../conf/ConfNoExists.html" title="class in com.tailf.conf"><code>ConfNoExists</code></a>, and when it is created it has the
        value <a href="../conf/ConfXMLParamLeaf.html" title="class in com.tailf.conf"><code>ConfXMLParamLeaf</code></a>.
 </li>
 <li> A leaf or a leaf-list that has been set to a new value
      (or its default value) is included with that new value.
      If the leaf or leaf-list is optional, then when
      it is deleted the value is <a href="../conf/ConfNoExists.html" title="class in com.tailf.conf"><code>ConfNoExists</code></a>.</li>

 <li> Presence containers are included when they are created or when
      they have modifications below them (by the usual
      <a href="../conf/ConfXMLParamStart.html" title="class in com.tailf.conf"><code>ConfXMLParamStart</code></a>,
      <a href="../conf/ConfXMLParamStop.html" title="class in com.tailf.conf"><code>ConfXMLParamStop</code></a> pair). If a presence
       container have been deleted its tag is included, but is set to
       <a href="../conf/ConfNoExists.html" title="class in com.tailf.conf"><code>ConfNoExists</code></a>.
 </ul>
 <p>
 By default <code>getModifications</code> does not include list instances
 (created, deleted, or modified) - but if the flags parameter is set to
 <a href="CdbGetModificationFlag.html#CDB_GET_MODS_INCLUDE_LISTS"><code>CdbGetModificationFlag.CDB_GET_MODS_INCLUDE_LISTS</code></a> then list
 instances will be included.

 Created and modified instances are included wrapped in the
 <a href="../conf/ConfXMLParamStart.html" title="class in com.tailf.conf"><code>ConfXMLParamStart</code></a> / <a href="../conf/ConfXMLParamStop.html" title="class in com.tailf.conf"><code>ConfXMLParamStop</code></a> pair, with the
 keys first.

 Deleted list instances instead begin with C_XMLBEGINDEL,
 then follows the keys, immediately followed by a C_XMLEND.
 <p>
 If the flags parameter is set to
 <a href="CdbGetModificationFlag.html#CDB_GET_MODS_SUPPRESS_DEFAULTS"><code>CdbGetModificationFlag.CDB_GET_MODS_SUPPRESS_DEFAULTS</code></a>,
 a default value that comes into effect for a leaf due to an ancestor
 list entry or presence container being created will not be included,
 and a default value that comes into effect for a leaf due to a set
 value being deleted will be included as a deletion (i.e. with value
 <a href="../conf/ConfNoExists.html" title="class in com.tailf.conf"><code>ConfNoExists</code></a>.
 <p>
 If the flags parameter is set to
 <a href="CdbGetModificationFlag.html#CDB_GET_MODS_CLI_NO_BACKQUOTES"><code>CdbGetModificationFlag.CDB_GET_MODS_CLI_NO_BACKQUOTES</code></a>,
 Then backslash quotes will not be used when formatting string
 values. This means that certain values cannot be represented
 (like newlines and tabs) but also that there is no need to
 remove backslash quotes if the target for the configuration
 does not support it.
 <p>
 If the flags parameter is set to
 <a href="CdbGetModificationFlag.html#CDB_GET_MODS_WANT_ANCESTOR_DELETE"><code>CdbGetModificationFlag.CDB_GET_MODS_WANT_ANCESTOR_DELETE</code></a>,
 Then a node that comes into effect due to an ancestor list entry or
 presence container being deleted will be included,</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subid</code> - Subscription id</dd>
<dd><code>flags</code> - EnumSet of CdbGetModificationFlag</dd>
<dd><code>fmt</code> - </dd>
<dd><code>args</code> - </dd>
<dt>Throws:</dt>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getModifications(int,com.tailf.cdb.CdbGetModificationFlag,java.lang.String,java.lang.Object...)">
<h3>getModifications</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</span>&nbsp;<span class="element-name">getModifications</span><wbr><span class="parameters">(int&nbsp;subid,
 <a href="CdbGetModificationFlag.html" title="enum class in com.tailf.cdb">CdbGetModificationFlag</a>&nbsp;flag,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;fmt,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>...&nbsp;args)</span>
                                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span></div>
<div class="block">This method is deprecated, instead use
 <a href="#getModifications(int,java.util.EnumSet,java.lang.String,java.lang.Object...)"><code>getModifications(int, EnumSet, String, Object...)</code></a></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getModifications(java.util.EnumSet)">
<h3>getModifications</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</span>&nbsp;<span class="element-name">getModifications</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="CdbGetModificationFlag.html" title="enum class in com.tailf.cdb">CdbGetModificationFlag</a>&gt;&nbsp;flags)</span>
                                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="block">Retrieve changes that caused by subscription notification.

 Convenient short-hand of the
 <a href="#getModifications(int,com.tailf.cdb.CdbGetModificationFlag,com.tailf.conf.ConfPath)"><code>getModifications(int,CdbGetModificationFlag,ConfPath)</code></a>
 method intended to be used from within a iteration started by
 <a href="#diffIterate(int,com.tailf.cdb.CdbDiffIterate)"><code>diffIterate(int,CdbDiffIterate)</code></a>.

 <p>In this case no subscription id is needed, and the path is implicitly
 the current position in the iteration.

 <p>Combining this call with <code>diffIterate</code> makes it for
 example possible to iterate over a list, and for each list instance
 fetch the changes using <code>getModifications</code>, and then return
 <a href="../conf/DiffIterateResultFlag.html#ITER_CONTINUE"><code>DiffIterateResultFlag.ITER_CONTINUE</code></a> to process next instance.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#getModifications(int,java.util.EnumSet,com.tailf.conf.ConfPath)"><code>getModifications(int,EnumSet,ConfPath)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getModifications(com.tailf.cdb.CdbGetModificationFlag)">
<h3>getModifications</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../conf/ConfXMLParam.html" title="class in com.tailf.conf">ConfXMLParam</a>&gt;</span>&nbsp;<span class="element-name">getModifications</span><wbr><span class="parameters">(<a href="CdbGetModificationFlag.html" title="enum class in com.tailf.cdb">CdbGetModificationFlag</a>&nbsp;flag)</span>
                                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span></div>
<div class="block">This method is deprecated, instead use
 <a href="#getModifications(java.util.EnumSet)"><code>getModifications(EnumSet)</code></a></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getModificationsCLI(int,int)">
<h3>getModificationsCLI</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getModificationsCLI</span><wbr><span class="parameters">(int&nbsp;subid,
 int&nbsp;flags)</span>
                           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="block">CLI string that corresponds to the changes that triggered subscription.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getModificationsCLI(int)">
<h3>getModificationsCLI</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getModificationsCLI</span><wbr><span class="parameters">(int&nbsp;subid)</span>
                           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="block">Return a string with the CLI commands that corresponds to the
 changes that triggered subscription.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#getModificationsCLI(int,int)"><code>getModificationsCLI(int, int)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sync(com.tailf.cdb.CdbSubscriptionSyncType)">
<h3>sync</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">sync</span><wbr><span class="parameters">(<a href="CdbSubscriptionSyncType.html" title="enum class in com.tailf.cdb">CdbSubscriptionSyncType</a>&nbsp;subscriptionSyncType)</span>
          throws <span class="exceptions"><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Synchronize the subscriber.

 <p>Once we have read the subscription notification through a call to
 <a href="#read()"><code>read()</code></a> and also have acted on the changes to
 CDB, we must synchronize with CDB so that CDB can continue and
 deliver further subscription messages to subscribers with higher
 priority numbers.

 <p> There are three different types of synchronization replies the
 application can use in the subscriptionSyncType parameter:
 see <a href="CdbSubscriptionSyncType.html" title="enum class in com.tailf.cdb"><code>CdbSubscriptionSyncType</code></a>

 <p>
 CDB is locked for writing while subscriptions are delivered.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="CdbException.html" title="class in com.tailf.cdb">CdbException</a></code> - Failed to sync</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - Failed to read/write cdb socket</dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="abortTransaction(com.tailf.cdb.CdbExtendedException)">
<h3>abortTransaction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">abortTransaction</span><wbr><span class="parameters">(<a href="CdbExtendedException.html" title="class in com.tailf.cdb">CdbExtendedException</a>&nbsp;ex)</span>
                      throws <span class="exceptions"><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Abort the transaction.

 <p> This method is used when a two phase subscriber wishes to abort an
 transaction (the opposite to acknowledge it with
 <a href="#sync(com.tailf.cdb.CdbSubscriptionSyncType)"><code>sync(CdbSubscriptionSyncType)</code></a>).

 The <code>abortTransaction</code> call is only valid for notifications with
 notificationType <a href="CdbNotificationType.html#SUB_PREPARE"><code>CdbNotificationType.SUB_PREPARE</code></a>.

 <p>
 The subscriber is required to supply an instance of the
 <a href="CdbExtendedException.html" title="class in com.tailf.cdb"><code>CdbExtendedException</code></a> which will be used to notify the clients on
 the reason for the transaction abort.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ex</code> - an <code>CdbExtendedException</code> instance supplied by
 the subscriber</dd>
<dt>Throws:</dt>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setMandatory(java.lang.String)">
<h3>setMandatory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setMandatory</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;mandatoryName)</span>
                  throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></span></div>
<div class="block">Attaches a mandatory attribute and a mandatory name to this subscriber
 CDB keeps a list of mandatory subscribers for infinite extent, i.e.
 until ConfD/NCS is restarted. The function is idempotent.

 Absence of one or more mandatory subscribers will result in abort of
 all transactions. A mandatory subscriber must be present during the
 entire PREPARE delivery phase.

 If a mandatory subscriber crash during a PREPARE delivery phase, the
 subscriber should be restarted and the commit operation should be
 retried.

 A mandatory subscriber is present if the subscriber has issued at least
 one subscribe() call followed by a subscribeDone() call.

 <p>
 A call to setMandatory() is only allowed before
 subscribe() has been called.

 Note, this functionality is only applicable for two-phase subscribers.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>mandatoryName</code> - </dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMountId(com.tailf.conf.ConfPath)">
<h3>getMountId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getMountId</span><wbr><span class="parameters">(<a href="../conf/ConfPath.html" title="class in com.tailf.conf">ConfPath</a>&nbsp;path)</span>
                        throws <span class="exceptions"><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../conf/MountIdInterface.html#getMountId(com.tailf.conf.ConfPath)">getMountId</a></code>&nbsp;in interface&nbsp;<code><a href="../conf/MountIdInterface.html" title="interface in com.tailf.conf">MountIdInterface</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acceptTagPath()">
<h3>acceptTagPath</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">acceptTagPath</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../conf/MountIdInterface.html#acceptTagPath()">acceptTagPath</a></code>&nbsp;in interface&nbsp;<code><a href="../conf/MountIdInterface.html" title="interface in com.tailf.conf">MountIdInterface</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCdb()">
<h3>getCdb</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Cdb.html" title="class in com.tailf.cdb">Cdb</a></span>&nbsp;<span class="element-name">getCdb</span>()</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
