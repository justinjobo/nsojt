<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Tue May 14 21:18:04 GMT 2024 -->
<title>Notif (NSO Java API Version 6.2.5)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-05-14">
<meta name="description" content="declaration: package: com.tailf.notif, class: Notif">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Notif.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.tailf.notif</a></div>
<h1 title="Class Notif" class="title">Class Notif</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
<div class="inheritance">com.tailf.notif.Notif</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">Notif</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">This class implements the Notifications API in Java.
 <p>
 Applications can subscribe to certain events generated by the system. The API
 to receive events from the system is a socket based API whereby the
 application connects to ConfD/NCS and receives events on a socket. There are
 several types of events that can be subscribed to:
 <ul>
 <li><a href="NotificationType.html#NOTIF_AUDIT"><code>NotificationType.NOTIF_AUDIT</code></a> - all audit log events are sent from
 ConfD/NCS on the event notification socket.

 <li><a href="NotificationType.html#NOTIF_COMMIT_DIFF"><code>NotificationType.NOTIF_COMMIT_DIFF</code></a> - an event indicating that a
 user has somehow modified the configuration. The main difference between this
 event and the above mentioned NOTIF_COMMIT_SIMPLE is that this event is
 synchronous, i.e. the entire transaction hangs until we have explicitly
 called <a href="#diffNotificationDone(int)"><code>diffNotificationDone(int)</code></a>. The purpose of this event is to
 give the applications a chance to read the configuration diffs from the
 transaction before it commits. A user subscribing to this event can use the
 MAAPI api to attach (Maapi.attach())to the running transaction and use
 Maapi.diffIterate() to iterate through the diff.

 <li><a href="NotificationType.html#NOTIF_COMMIT_FAILED"><code>NotificationType.NOTIF_COMMIT_FAILED</code></a> - This event is generated
 when a data provider fails in its commit callback. ConfD executes a two-phase
 commit procedure towards all data providers when committing transactions.
 When a provider fails in commit, the system is an unknown state. If the
 provider is "external", the name of failing daemon is provided. If the
 provider is another NETCONF agent, the IP address and port of that agent
 is provided.

 <li><a href="NotificationType.html#NOTIF_COMMIT_SIMPLE"><code>NotificationType.NOTIF_COMMIT_SIMPLE</code></a> - an event indicating that a
 user has somehow modified the configuration.

 <li><a href="NotificationType.html#NOTIF_COMMIT_PROGRESS"><code>NotificationType.NOTIF_COMMIT_PROGRESS</code></a> - This event provides
 progress information about the commit of a transaction.

 <li><a href="NotificationType.html#NOTIF_PROGRESS"><code>NotificationType.NOTIF_PROGRESS</code></a> - This event provides
 progress information about the commit of a transaction or an action
 being applied. Subscribing to this notification type means that all
 notifications of the type <a href="NotificationType.html#NOTIF_COMMIT_PROGRESS"><code>NotificationType.NOTIF_COMMIT_PROGRESS</code></a>
 are subscribed to as well.

 <li><a href="NotificationType.html#NOTIF_CONFIRMED_COMMIT"><code>NotificationType.NOTIF_CONFIRMED_COMMIT</code></a> - This event is generated
 when a user has started a confirmed commit, when a confirming commit is
 issued, or when a confirmed commit is aborted; represented by
 ConfirmNotification.confirm_type.
 <p>
 For a confirmed commit, the timeout value is also present in the
 notification.

 <li><a href="NotificationType.html#NOTIF_FORWARD_INFO"><code>NotificationType.NOTIF_FORWARD_INFO</code></a> - This event is generated
 whenever whenever the server forwards (proxies) a northbound agent.

 <li><a href="NotificationType.html#NOTIF_HA_INFO"><code>NotificationType.NOTIF_HA_INFO</code></a> - an event related to ConfDs
 perception of the current cluster configuration.

 <li><a href="NotificationType.html#NOTIF_HEARTBEAT"><code>NotificationType.NOTIF_HEARTBEAT</code></a> - This event can be be used by
 applications that wish to monitor the health and liveness of the server
 itself. It needs to be requested through a Notif instance which has been
 constructed with a heartbeat_interval. The server will continuously generate
 heartbeat events on the notification socket. If the server fails to do so,
 the server is hung. The timeout interval is measured in milliseconds.
 Recommended value is 10000 milliseconds to cater for truly high load
 situations. Values less than 1000 are changed to 1000.

 <li><a href="NotificationType.html#NOTIF_SNMPA"><code>NotificationType.NOTIF_SNMPA</code></a> - This event is generated whenever
 an SNMP pdu is processed by the server. The application receives an
 SnmpaNotification with a list of all varbinds in the pdu. Each varbind
 contains subclasses that are internal to the SnmpaNotification.

 <li><a href="NotificationType.html#NOTIF_SUBAGENT_INFO"><code>NotificationType.NOTIF_SUBAGENT_INFO</code></a> - only sent if ConfD runs as
 a primary agent with subagents enabled. This event is sent when the subagent
 connection is lost or reestablished. There are two event types, defined in
 <a href="SubagentNotification.html" title="class in com.tailf.notif"><code>SubagentNotification</code></a>: subagent up and subagent down.

 <li><a href="NotificationType.html#NOTIF_DAEMON"><code>NotificationType.NOTIF_DAEMON</code></a> - all log events that also goes to
 the /confdConf/logs/confdLog log are sent from ConfD on the event
 notification socket.
 <li><a href="NotificationType.html#NOTIF_NETCONF"><code>NotificationType.NOTIF_NETCONF</code></a> - all log events that also goes to
 the /confdConf/logs/netconfLog log are sent from ConfD on the event
 notification socket.
 <li><a href="NotificationType.html#NOTIF_DEVEL"><code>NotificationType.NOTIF_DEVEL</code></a> - all log events that also goes to
 the /confdConf/logs/develLog log are sent from ConfD on the event
 notification socket.
 <li><a href="NotificationType.html#NOTIF_JSONRPC"><code>NotificationType.NOTIF_JSONRPC</code></a> - all log events that also goes to
 the /confdConf/logs/jsonrpcLog log are sent from ConfD on the event
 notification socket.
 <li><a href="NotificationType.html#NOTIF_WEBUI"><code>NotificationType.NOTIF_WEBUI</code></a> - all log events that also goes to
 the /confdConf/logs/webuiAccessLog log are sent from ConfD on the event
 notification socket.
 <li><a href="NotificationType.html#NOTIF_TAKEOVER_SYSLOG"><code>NotificationType.NOTIF_TAKEOVER_SYSLOG</code></a> - If this flag is present,
 ConfD will stop syslogging. The idea behind the flag is that we want to
 configure syslogging for ConfD in order to let ConfD log its startup
 sequence. Once ConfD is started we wish to subsume the syslogging done by
 ConfD. Typical applications that use this flag want to pick up all log
 messages, reformat them and use some local logging method.

 Once all subscriber sockets with this flag set are closed, ConfD will resume
 to syslog.
 <li><a href="NotificationType.html#NOTIF_UPGRADE_EVENT"><code>NotificationType.NOTIF_UPGRADE_EVENT</code></a> - This event is generated
 for the different phases of an in-service upgrade, i.e. when the data model
 is upgraded while the server is running. The application receives an
 UpgradeNotification where the UpgradeNotification.event_type gives the
 specific upgrade event. The events correspond to the invocation of the Maapi
 functions that drive the upgrade.

 <li><a href="NotificationType.html#NOTIF_COMPACTION"><code>NotificationType.NOTIF_COMPACTION</code></a> - This event is generated when
 a CDB compaction has completed.

 <li><a href="NotificationType.html#NOTIF_USER_SESSION"><code>NotificationType.NOTIF_USER_SESSION</code></a> - an event related to user
 sessions. There are 6 different user session related event types, defined in
 <a href="UserSessNotification.html" title="class in com.tailf.notif"><code>UserSessNotification</code></a>: session starts/stops, session
 locks/unlocks database, session starts/stop database transaction.

 <li><a href="NotificationType.html#NOTIF_PACKAGE_RELOAD"><code>NotificationType.NOTIF_PACKAGE_RELOAD</code></a> - an event indicating
 that NCS has completed a package reload.

 <li><a href="NotificationType.html#NOTIF_CQ_PROGRESS"><code>NotificationType.NOTIF_CQ_PROGRESS</code></a> - an event reporting
 the progress of commit queue entries.

 <li><a href="NotificationType.html#NOTIF_REOPEN_LOGS"><code>NotificationType.NOTIF_REOPEN_LOGS</code></a> - an event indicating
 that ConfD/NCS will close and reopen its log files.

 <li><a href="NotificationType.html#NOTIF_CALL_HOME_INFO"><code>NotificationType.NOTIF_CALL_HOME_INFO</code></a> - an event reporting
 call home connections.

 <li><a href="NotificationType.html#NOTIF_AUDIT_NETWORK"><code>NotificationType.NOTIF_AUDIT_NETWORK</code></a> - an event reporting
 config changes sent southbound towards devices.

 </ul>

 <p>
 Example:

 <pre>
      // int port = Conf.PORT for ConfD or Conf.NCS_PORT for NCS
      // create new notifications socket
      Socket notif_sock = new Socket("127.0.0.1", port);
      // init and connect the notification socket
      final Notif notif =
          new Notif(notif_sock,
                    EnumSet.of(NotificationType.NOTIF_AUDIT,
                               NotificationType.NOTIF_USER_SESSION));

       // read input from the notification socket
      Thread notifThread = new Thread(new Runnable() {
          public void run() {
              try {
                  while (true) notif.read();
              } catch (Exception e) {
                    e.printStackTrace();
                    return;
              }
          }
      });
      notifThread.start();
 </pre></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="AuditNotification.html" title="class in com.tailf.notif"><code>AuditNotification</code></a></li>
<li><a href="CommitDiffNotification.html" title="class in com.tailf.notif"><code>CommitDiffNotification</code></a></li>
<li><a href="CommitFailedNotification.html" title="class in com.tailf.notif"><code>CommitFailedNotification</code></a></li>
<li><a href="CommitNotification.html" title="class in com.tailf.notif"><code>CommitNotification</code></a></li>
<li><a href="CommitProgressNotification.html" title="class in com.tailf.notif"><code>CommitProgressNotification</code></a></li>
<li><a href="ProgressNotification.html" title="class in com.tailf.notif"><code>ProgressNotification</code></a></li>
<li><a href="ConfirmNotification.html" title="class in com.tailf.notif"><code>ConfirmNotification</code></a></li>
<li><a href="ForwardNotification.html" title="class in com.tailf.notif"><code>ForwardNotification</code></a></li>
<li><a href="HaNotification.html" title="class in com.tailf.notif"><code>HaNotification</code></a></li>
<li><a href="HeartbeatNotification.html" title="class in com.tailf.notif"><code>HeartbeatNotification</code></a></li>
<li><a href="SnmpaNotification.html" title="class in com.tailf.notif"><code>SnmpaNotification</code></a></li>
<li><a href="SubagentNotification.html" title="class in com.tailf.notif"><code>SubagentNotification</code></a></li>
<li><a href="SyslogNotification.html" title="class in com.tailf.notif"><code>SyslogNotification</code></a></li>
<li><a href="UpgradeNotification.html" title="class in com.tailf.notif"><code>UpgradeNotification</code></a></li>
<li><a href="UserSessNotification.html" title="class in com.tailf.notif"><code>UserSessNotification</code></a></li>
<li><a href="HealtCheckNotification.html" title="class in com.tailf.notif"><code>HealtCheckNotification</code></a></li>
<li><a href="PackageReloadNotification.html" title="class in com.tailf.notif"><code>PackageReloadNotification</code></a></li>
<li><a href="CommitQueueProgressNotification.html" title="class in com.tailf.notif"><code>CommitQueueProgressNotification</code></a></li>
<li><a href="ReopenLogsNotification.html" title="class in com.tailf.notif"><code>ReopenLogsNotification</code></a></li>
<li><a href="CallHomeInfoNotification.html" title="class in com.tailf.notif"><code>CallHomeInfoNotification</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.net.Socket,java.util.EnumSet)" class="member-name-link">Notif</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/net/Socket.html" title="class or interface in java.net" class="external-link">Socket</a>&nbsp;socket,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="NotificationType.html" title="enum class in com.tailf.notif">NotificationType</a>&gt;&nbsp;eventTypes)</code></div>
<div class="col-last even-row-color">
<div class="block">Same functionality as for Notif(socket, eventTypes, cfg)
 except that no extra configuration is expected to be set in eventTypes.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.net.Socket,java.util.EnumSet,int)" class="member-name-link">Notif</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/net/Socket.html" title="class or interface in java.net" class="external-link">Socket</a>&nbsp;socket,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="NotificationType.html" title="enum class in com.tailf.notif">NotificationType</a>&gt;&nbsp;eventTypes,
 int&nbsp;heartbeatInterval)</code></div>
<div class="col-last odd-row-color">
<div class="block">Same functionality as for Notif(socket, eventTypes, cfg)
 except that only heartbeat notifications are expected to require
 to be configured

 Since the ConfD/NCS daemon expects initialization within
 5 seconds after a new socket is established this constructor should be
 called directly for a new socket.</div>
</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.net.Socket,java.util.EnumSet,int,int)" class="member-name-link">Notif</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/net/Socket.html" title="class or interface in java.net" class="external-link">Socket</a>&nbsp;socket,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="NotificationType.html" title="enum class in com.tailf.notif">NotificationType</a>&gt;&nbsp;eventTypes,
 int&nbsp;heartbeatInterval,
 int&nbsp;healthCheckInterval)</code></div>
<div class="col-last even-row-color">
<div class="block">Same functionality as for Notif(socket, eventTypes, cfg)
 except that only heartbeat and healtcheck notifications
 are expected to require to be configured.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.net.Socket,java.util.EnumSet,com.tailf.notif.NotificationCfg)" class="member-name-link">Notif</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/net/Socket.html" title="class or interface in java.net" class="external-link">Socket</a>&nbsp;socket,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="NotificationType.html" title="enum class in com.tailf.notif">NotificationType</a>&gt;&nbsp;eventTypes,
 <a href="NotificationCfg.html" title="class in com.tailf.notif">NotificationCfg</a>&nbsp;cfg)</code></div>
<div class="col-last odd-row-color">
<div class="block">Creates a notification instance.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#diffNotificationDone(int)" class="member-name-link">diffNotificationDone</a><wbr>(int&nbsp;thandle)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If the received event from <a href="#read()"><code>read()</code></a> was a
 <a href="CommitDiffNotification.html" title="class in com.tailf.notif"><code>CommitDiffNotification</code></a> it is important that we call this function
 when we are done reading the transaction diffs over MAAPI.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Notification.html" title="class in com.tailf.notif">Notification</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#read()" class="member-name-link">read</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Read in the data.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#syncAuditNetworkNotification(int)" class="member-name-link">syncAuditNetworkNotification</a><wbr>(int&nbsp;usid)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If the received event from <a href="#read()"><code>read()</code></a> was a
 <a href="AuditNetworkNotification.html" title="class in com.tailf.notif"><code>AuditNetworkNotification</code></a> which was subscribed using the
 notification type <a href="NotificationType.html#NOTIF_AUDIT_NETWORK"><code>NotificationType.NOTIF_AUDIT_NETWORK</code></a>
 in combination with <a href="NotificationType.html#NOTIF_AUDIT_NETWORK_SYNC"><code>NotificationType.NOTIF_AUDIT_NETWORK_SYNC</code></a>
 it is important that we call this function or else the
 user session will hang indefinitely.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#syncAuditNotification(int)" class="member-name-link">syncAuditNotification</a><wbr>(int&nbsp;usid)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If the received event from <a href="#read()"><code>read()</code></a> was a
 <a href="AuditNotification.html" title="class in com.tailf.notif"><code>AuditNotification</code></a> which was subscribed using the
 notification type <a href="NotificationType.html#NOTIF_AUDIT"><code>NotificationType.NOTIF_AUDIT</code></a>
 in combination with <a href="NotificationType.html#NOTIF_AUDIT_SYNC"><code>NotificationType.NOTIF_AUDIT_SYNC</code></a>
 it is important that we call this function or else the
 user session will hang indefinitely.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#syncHaNotification()" class="member-name-link">syncHaNotification</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If the received event from <a href="#read()"><code>read()</code></a> was a
 <a href="HaNotification.html" title="class in com.tailf.notif"><code>HaNotification</code></a> which was subscribed using the
 notification type <a href="NotificationType.html#NOTIF_HA_INFO"><code>NotificationType.NOTIF_HA_INFO</code></a>
 in combination with <a href="NotificationType.html#NOTIF_HA_INFO_SYNC"><code>NotificationType.NOTIF_HA_INFO_SYNC</code></a>
 it is important that we call this function or else the
 user session will hang indefinitely.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.net.Socket,java.util.EnumSet,com.tailf.notif.NotificationCfg)">
<h3>Notif</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">Notif</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/net/Socket.html" title="class or interface in java.net" class="external-link">Socket</a>&nbsp;socket,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="NotificationType.html" title="enum class in com.tailf.notif">NotificationType</a>&gt;&nbsp;eventTypes,
 <a href="NotificationCfg.html" title="class in com.tailf.notif">NotificationCfg</a>&nbsp;cfg)</span>
      throws <span class="exceptions"><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Creates a notification instance. The events will be read from the
 provided socket. The the configurated notifications are passed as an
 <code>EnumSet&lt;NotificationType&gt;</code> This constructor expects a
 <a href="NotificationCfg.html" title="class in com.tailf.notif"><code>NotificationCfg</code></a> argument which is used to set extra configuration
 data necessary for notifications of type
 <ul>
 <li> <a href="NotificationType.html#NOTIF_HEALTH_CHECK"><code>NotificationType.NOTIF_HEALTH_CHECK</code></a> </li>
 <li> <a href="NotificationType.html#NOTIF_HEARTBEAT"><code>NotificationType.NOTIF_HEARTBEAT</code></a> </li>
 <li> <a href="NotificationType.html#NOTIF_STREAM_EVENT"><code>NotificationType.NOTIF_STREAM_EVENT</code></a> </li>
 <li> <a href="NotificationType.html#NOTIF_COMMIT_PROGRESS"><code>NotificationType.NOTIF_COMMIT_PROGRESS</code></a> </li>
 <li> <a href="NotificationType.html#NOTIF_PROGRESS"><code>NotificationType.NOTIF_PROGRESS</code></a> </li>
 </ul>

 Since the ConfD/NCS daemon expects initialization within
 5 seconds after a new socket is established this constructor should be
 called directly for a new socket.

 <p>If encrypted communication towards ConfD/NCS is desired,
 an environment variable "CONFD_IPC_ACCESS_FILE" or "NCS_IPC_ACCESS_FILE"
 need to be set.
 This variable is expected to point to a file containing a secret salt.
  example:
     export CONFD_IPC_ACCESS_FILE=./secret_file.txt
 An alternative to the environment variable is to set an java system
 property with the same name pointing to the file.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>socket</code> - A socket connected to ConfD.</dd>
<dd><code>eventTypes</code> - EnumSet of NotificationType</dd>
<dd><code>cfg</code> - event configuration data</dd>
<dt>Throws:</dt>
<dd><code><a href="NotifException.html" title="class in com.tailf.notif">NotifException</a></code> - Failed to initialize notification instance.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - Failed to read from notifications socket</dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#read()"><code>read()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.net.Socket,java.util.EnumSet,int,int)">
<h3>Notif</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">Notif</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/net/Socket.html" title="class or interface in java.net" class="external-link">Socket</a>&nbsp;socket,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="NotificationType.html" title="enum class in com.tailf.notif">NotificationType</a>&gt;&nbsp;eventTypes,
 int&nbsp;heartbeatInterval,
 int&nbsp;healthCheckInterval)</span>
      throws <span class="exceptions"><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Same functionality as for Notif(socket, eventTypes, cfg)
 except that only heartbeat and healtcheck notifications
 are expected to require to be configured.

 Since the ConfD/NCS daemon expects initialization within
 5 seconds after a new socket is established this constructor should be
 called directly for a new socket.

 <p>If encrypted communication towards ConfD/NCS is desired,
 an environment variable "CONFD_IPC_ACCESS_FILE" or "NCS_IPC_ACCESS_FILE"
 need to be set.
 This variable is expected to point to a file containing a secret salt.
  example:
     export CONFD_IPC_ACCESS_FILE=./secret_file.txt
 An alternative to the environment variable is to set an java system
 property with the same name pointing to the file.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>socket</code> - A socket connected to ConfD.</dd>
<dd><code>eventTypes</code> - EnumSet of NotificationType</dd>
<dd><code>heartbeatInterval</code> - interval in seconds (&lt;= 0 if not active)</dd>
<dd><code>healthCheckInterval</code> - interval in seconds (&lt;= 0 if not active)</dd>
<dt>Throws:</dt>
<dd><code><a href="NotifException.html" title="class in com.tailf.notif">NotifException</a></code> - Failed to initialize notification instance.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - Failed to read from notifications socket</dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#read()"><code>read()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.net.Socket,java.util.EnumSet,int)">
<h3>Notif</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">Notif</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/net/Socket.html" title="class or interface in java.net" class="external-link">Socket</a>&nbsp;socket,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="NotificationType.html" title="enum class in com.tailf.notif">NotificationType</a>&gt;&nbsp;eventTypes,
 int&nbsp;heartbeatInterval)</span>
      throws <span class="exceptions"><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Same functionality as for Notif(socket, eventTypes, cfg)
 except that only heartbeat notifications are expected to require
 to be configured

 Since the ConfD/NCS daemon expects initialization within
 5 seconds after a new socket is established this constructor should be
 called directly for a new socket.

 <p>If encrypted communication towards ConfD/NCS is desired,
 an environment variable "CONFD_IPC_ACCESS_FILE" or "NCS_IPC_ACCESS_FILE"
 need to be set.
 This variable is expected to point to a file containing a secret salt.
  example:
     export CONFD_IPC_ACCESS_FILE=./secret_file.txt
 An alternative to the environment variable is to set an java system
 property with the same name pointing to the file.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>socket</code> - notification socket</dd>
<dd><code>eventTypes</code> - set of all subscribed notification types</dd>
<dd><code>heartbeatInterval</code> - interval in seconds (&lt;= 0 if not active)</dd>
<dt>Throws:</dt>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.net.Socket,java.util.EnumSet)">
<h3>Notif</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">Notif</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/net/Socket.html" title="class or interface in java.net" class="external-link">Socket</a>&nbsp;socket,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/util/EnumSet.html" title="class or interface in java.util" class="external-link">EnumSet</a>&lt;<a href="NotificationType.html" title="enum class in com.tailf.notif">NotificationType</a>&gt;&nbsp;eventTypes)</span>
      throws <span class="exceptions"><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Same functionality as for Notif(socket, eventTypes, cfg)
 except that no extra configuration is expected to be set in eventTypes.

 Since the ConfD/NCS daemon expects initialization within
 5 seconds after a new socket is established this constructor should be
 called directly for a new socket.

 <p>If encrypted communication towards ConfD/NCS is desired,
 an environment variable "CONFD_IPC_ACCESS_FILE" or "NCS_IPC_ACCESS_FILE"
 need to be set.
 This variable is expected to point to a file containing a secret salt.
  example:
     export CONFD_IPC_ACCESS_FILE=./secret_file.txt
 An alternative to the environment variable is to set an java system
 property with the same name pointing to the file.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>socket</code> - notification socket</dd>
<dd><code>eventTypes</code> - set of all subscribed notification types</dd>
<dt>Throws:</dt>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="read()">
<h3>read</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Notification.html" title="class in com.tailf.notif">Notification</a></span>&nbsp;<span class="element-name">read</span>()
                  throws <span class="exceptions"><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Read in the data. The application is responsible for reading the
 notification socket. The method read() will return a <a href="Notification.html" title="class in com.tailf.notif"><code>Notification</code></a>
 of the following types:
 <ul>
 <li> <a href="AuditNotification.html" title="class in com.tailf.notif"><code>AuditNotification</code></a>
 <li> <a href="CommitDiffNotification.html" title="class in com.tailf.notif"><code>CommitDiffNotification</code></a>
 <li> <a href="CommitFailedNotification.html" title="class in com.tailf.notif"><code>CommitFailedNotification</code></a>
 <li> <a href="CommitNotification.html" title="class in com.tailf.notif"><code>CommitNotification</code></a>
 <li> <a href="CommitProgressNotification.html" title="class in com.tailf.notif"><code>CommitProgressNotification</code></a>
 <li> <a href="ProgressNotification.html" title="class in com.tailf.notif"><code>ProgressNotification</code></a>
 <li> <a href="ConfirmNotification.html" title="class in com.tailf.notif"><code>ConfirmNotification</code></a>
 <li> <a href="ForwardNotification.html" title="class in com.tailf.notif"><code>ForwardNotification</code></a>
 <li> <a href="HaNotification.html" title="class in com.tailf.notif"><code>HaNotification</code></a>
 <li> <a href="HeartbeatNotification.html" title="class in com.tailf.notif"><code>HeartbeatNotification</code></a>
 <li> <a href="SnmpaNotification.html" title="class in com.tailf.notif"><code>SnmpaNotification</code></a>
 <li> <a href="SubagentNotification.html" title="class in com.tailf.notif"><code>SubagentNotification</code></a>
 <li> <a href="SyslogNotification.html" title="class in com.tailf.notif"><code>SyslogNotification</code></a>
 <li> <a href="UpgradeNotification.html" title="class in com.tailf.notif"><code>UpgradeNotification</code></a>
 <li> <a href="UserSessNotification.html" title="class in com.tailf.notif"><code>UserSessNotification</code></a>
 <li> <a href="HealtCheckNotification.html" title="class in com.tailf.notif"><code>HealtCheckNotification</code></a>
 <li> <a href="PackageReloadNotification.html" title="class in com.tailf.notif"><code>PackageReloadNotification</code></a>
 <li> <a href="CommitQueueProgressNotification.html" title="class in com.tailf.notif"><code>CommitQueueProgressNotification</code></a>
 <li> <a href="ReopenLogsNotification.html" title="class in com.tailf.notif"><code>ReopenLogsNotification</code></a>
 <li> <a href="CallHomeInfoNotification.html" title="class in com.tailf.notif"><code>CallHomeInfoNotification</code></a>
 </ul></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="NotifException.html" title="class in com.tailf.notif">NotifException</a></code> - Failed to read notification.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - Failed to read from notification socket</dd>
<dd><code><a href="../conf/ConfException.html" title="class in com.tailf.conf">ConfException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="diffNotificationDone(int)">
<h3>diffNotificationDone</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">diffNotificationDone</span><wbr><span class="parameters">(int&nbsp;thandle)</span>
                          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">If the received event from <a href="#read()"><code>read()</code></a> was a
 <a href="CommitDiffNotification.html" title="class in com.tailf.notif"><code>CommitDiffNotification</code></a> it is important that we call this function
 when we are done reading the transaction diffs over MAAPI. The
 transaction is hanging until this function gets called.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>thandle</code> - The transaction handle. (given in the notification)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - Failed to write to the notification socket.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="syncAuditNotification(int)">
<h3>syncAuditNotification</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">syncAuditNotification</span><wbr><span class="parameters">(int&nbsp;usid)</span>
                           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">If the received event from <a href="#read()"><code>read()</code></a> was a
 <a href="AuditNotification.html" title="class in com.tailf.notif"><code>AuditNotification</code></a> which was subscribed using the
 notification type <a href="NotificationType.html#NOTIF_AUDIT"><code>NotificationType.NOTIF_AUDIT</code></a>
 in combination with <a href="NotificationType.html#NOTIF_AUDIT_SYNC"><code>NotificationType.NOTIF_AUDIT_SYNC</code></a>
 it is important that we call this function or else the
 user session will hang indefinitely.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>usid</code> - The user id. (given in the notification)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - Failed to write to the notification socket.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="syncHaNotification()">
<h3>syncHaNotification</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">syncHaNotification</span>()
                        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">If the received event from <a href="#read()"><code>read()</code></a> was a
 <a href="HaNotification.html" title="class in com.tailf.notif"><code>HaNotification</code></a> which was subscribed using the
 notification type <a href="NotificationType.html#NOTIF_HA_INFO"><code>NotificationType.NOTIF_HA_INFO</code></a>
 in combination with <a href="NotificationType.html#NOTIF_HA_INFO_SYNC"><code>NotificationType.NOTIF_HA_INFO_SYNC</code></a>
 it is important that we call this function or else the
 user session will hang indefinitely.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="syncAuditNetworkNotification(int)">
<h3>syncAuditNetworkNotification</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">syncAuditNetworkNotification</span><wbr><span class="parameters">(int&nbsp;usid)</span>
                                  throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">If the received event from <a href="#read()"><code>read()</code></a> was a
 <a href="AuditNetworkNotification.html" title="class in com.tailf.notif"><code>AuditNetworkNotification</code></a> which was subscribed using the
 notification type <a href="NotificationType.html#NOTIF_AUDIT_NETWORK"><code>NotificationType.NOTIF_AUDIT_NETWORK</code></a>
 in combination with <a href="NotificationType.html#NOTIF_AUDIT_NETWORK_SYNC"><code>NotificationType.NOTIF_AUDIT_NETWORK_SYNC</code></a>
 it is important that we call this function or else the
 user session will hang indefinitely.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>usid</code> - The user id. (given in the notification)</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - Failed to write to the notification socket.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
