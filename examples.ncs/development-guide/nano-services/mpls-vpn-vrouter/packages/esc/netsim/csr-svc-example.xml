<?xml version='1.0'?>
<esc_datamodel xmlns="http://www.cisco.com/esc/esc">
  <services><service_definition>
    <name>CSR_SHESHA</name>
    <version>1.2</version>
    <policies>
      <external_dependencies>
        <network_dependency>
          <network>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/interfaces/interface[1]/network/text()</network>
        </network_dependency>
      </external_dependencies>
    </policies>
    <vm_group>
      <name>SANITY</name>
      <bootup_time>600</bootup_time>
      <recovery_wait_time>0</recovery_wait_time>
      <disk>
        <src>file://cisco/images/csr_ultra_latest.qcow2</src>
        <disk_format>qcow2</disk_format>
        <container_format>bare</container_format>
        <serial_console>true</serial_console>
        <disk_bus>virtio</disk_bus>
      </disk>
      <vm_flavor>
        <vcpus>2</vcpus>
        <memory_mb>2048</memory_mb>
        <root_disk_mb>0</root_disk_mb>
        <ephemeral_disk_mb>0</ephemeral_disk_mb>
        <swap_disk_mb>0</swap_disk_mb>
      </vm_flavor>
      <interfaces>
        <interface>
          <nicid>0</nicid>
          <network>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/interfaces/interface[1]/network/text()</network>
        </interface>
        <interface>
          <nicid>1</nicid>
          <network>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/interfaces/interface[2]/network/text()</network>
        </interface>
      </interfaces>
      <kpi_data>
        <kpi>
          <event_name>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[1]/event_name/text()</event_name>
          <metric_value>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[1]/metric_value/text()</metric_value>
          <metric_cond>GT</metric_cond>
          <metric_type>UINT32</metric_type>
          <metric_collector>
            <type>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[1]/metric_collector/type/text()</type>
            <nicid>0</nicid>
            <poll_frequency>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[1]/metric_collector/poll_frequency/text()</poll_frequency>
            <polling_unit>seconds</polling_unit>
            <continuous_alarm>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[1]/metric_collector/continuous_alarm/text()</continuous_alarm>
          </metric_collector>
        </kpi>
        <kpi>
          <event_name>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[2]/event_name/text()</event_name>
          <metric_value>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[2]/metric_value/text()</metric_value>
          <metric_cond>GE</metric_cond>
          <metric_type>UINT32</metric_type>
          <metric_collector>
            <type>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[2]/metric_collector/type/text()</type>
            <nicid>0</nicid>
            <poll_frequency>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[2]/metric_collector/poll_frequency/text()</poll_frequency>
            <polling_unit>seconds</polling_unit>
            <continuous_alarm>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[2]/metric_collector/continuous_alarm/text()</continuous_alarm>
          </metric_collector>
        </kpi>
        <kpi>
          <event_name>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[3]/event_name/text()</event_name>
          <metric_value>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[3]/metric_value/text()</metric_value>
          <metric_cond>LE</metric_cond>
          <metric_type>UINT32</metric_type>
          <metric_collector>
            <type>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[3]/metric_collector/type/text()</type>
            <nicid>0</nicid>
            <poll_frequency>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[3]/metric_collector/poll_frequency/text()</poll_frequency>
            <polling_unit>seconds</polling_unit>
            <continuous_alarm>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[3]/metric_collector/continuous_alarm/text()</continuous_alarm>
          </metric_collector>
        </kpi>
      </kpi_data>
      <rules>
        <admin_rules>
          <rule>
            <event_name>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[1]/event_name/text()</event_name>
            <action>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/rules/admin_rules/rule[1]/action[1]/text()</action>
            <action>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/rules/admin_rules/rule[1]/action[2]/text()</action>
            <action>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/rules/admin_rules/rule[1]/action[3]/text()</action>
          </rule>
          <rule>
            <event_name>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[2]/event_name/text()</event_name>
            <action>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/rules/admin_rules/rule[2]/action[1]/text()</action>
          </rule>
          <rule>
            <event_name>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/kpi_data/kpi[3]/event_name/text()</event_name>
            <action>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/rules/admin_rules/rule[3]/action[1]/text()</action>
          </rule>
        </admin_rules>
      </rules>
      <config_data>
        <configuration>
          <dst>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/config_data/configuration[1]/dst/text()</dst>
          <file>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/config_data/configuration[1]/file/text()</file>
        </configuration>
      </config_data>
      <scaling>
        <min_active>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/scaling/min_active/text()</min_active>
        <max_active>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/scaling/max_active/text()</max_active>
        <elastic>xpath:/esc_datamodel/services/service_definition[1]/vm_group[1]/scaling/elastic/text()</elastic>
      </scaling>
    </vm_group>
  </service_definition>
</services></esc_datamodel>
